@using X.PagedList.Mvc;
@model X.PagedList.IPagedList<SubmitBug.Models.TB_BugSubmit>

@{
    //Layout = "~/Views/Shared/_LayoutA.cshtml";
    ViewBag.Title = "Index";
}

<label>@ViewData["info"]</label>
<table class="table table-bordered table-condensed table-hover table-striped">
    <thead>
        未完成工单
        <tr>
            <th>
                ID
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().AppName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().Describe)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().Claimant)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().LPhone)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().ComputerNo)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @{
            int i = 0;

            foreach (var item in Model)
            {
                <tr>
                    <td>
                        @(i += 1)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AppName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Describe)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Claimant)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.LPhone)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ComputerNo)
                    </td>
                    <td>
                        @Html.ActionLink("查看进度", "Details", new { id = item.BId })
                    </td>
                </tr>
            }
        }
    </tbody>
    <tfoot>
        <tr></tr>
    </tfoot>
</table>
Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount
@Html.PagedListPager(Model, page => Url.Action("Index", new { page }))
<p>
    @Html.ActionLink("新建工单", "Create")
</p>
<script>
    function refreshFive() {
        window.location.reload();//重新加载页面
    }
    setTimeout('refreshFive()', 100000); //每一分钟刷新一次
</script>
